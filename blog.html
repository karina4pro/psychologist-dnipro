<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–ª–æ–≥ - –ö–∞—Ä–∏–Ω–∞ –í–∞—Ä–≥–∞–Ω–æ–≤–∞ | –ü—Å–∏—Ö–æ–ª–æ–≥ –î–Ω–µ–ø—Ä</title>
    <meta name="description" content="–°—Ç–∞—Ç—å–∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∞ –ö–∞—Ä–∏–Ω—ã –í–∞—Ä–≥–∞–Ω–æ–≤–æ–π –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, —Å–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ª–∏—á–Ω–æ—Å—Ç–Ω–æ–º —Ä–æ—Å—Ç–µ">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="./dist/output.css" as="style">
    <link href="./dist/output.css" rel="stylesheet">
</head>
<body class="bg-neutral-light text-neutral-dark">
    <!-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ header –∏–∑ index.html –ø–æ–ª–Ω–æ—Å—Ç—å—é -->
    <header class="fixed-header">
        <div class="container flex justify-between items-center py-4">
            <div class="text-2xl font-bold text-white">Œ®</div>
            <div class="flex items-center">
                <a href="tel:380506191220" class="btn btn-secondary btn-icon flex">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                    &nbsp; 050 619 12 20
                </a>
                <button id="menu-toggle" class="p-2 ml-2 w-10 h-10 rounded-md bg-primary-dark hover:bg-primary-light text-white flex items-center justify-center">‚ò∞</button>
            </div>
        </div>
        <!-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ nav#mobile-menu –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑ index.html -->
    </header>

    <main class="pt-24 pb-16">
        <div class="container">
            <h1 class="heading-xl text-center mb-12 text-primary-dark">üìù –ë–ª–æ–≥ –ø—Å–∏—Ö–æ–ª–æ–≥–∞</h1>
            
            <div id="blog-posts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- –°—Ç–∞—Ç—å–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            
            <div id="loading" class="text-center py-8">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–µ–π...</p>
            </div>
        </div>
    </main>

    <script>
    const sanityConfig = {
        projectId: 'i2ncx2dk',
        dataset: 'production',
        apiVersion: '2023-05-03'
    };

    async function loadPosts() {
        try {
            const query = `*[_type == "post"] | order(publishedAt desc) {
                title,
                slug,
                publishedAt,
                body,
                mainImage
            }`;
            
            const url = `https://${sanityConfig.projectId}.apicdn.sanity.io/v2021-10-21/data/query/${sanityConfig.dataset}?query=${encodeURIComponent(query)}`;
            
            const response = await fetch(url);
            const data = await response.json();
            
            renderPosts(data.result);
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞:', error);
            document.getElementById('loading').innerHTML = '<p class="text-red-500">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
        }
    }

    // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    function renderPosts(posts) {
        const container = document.getElementById('blog-posts');
        document.getElementById('loading').style.display = 'none';
        
        container.innerHTML = posts.map(post => `
            <article class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                <div class="p-6">
                    <h2 class="text-xl font-bold mb-3 text-primary-dark">
                        ${post.title}
                    </h2>
                    <time class="text-sm text-neutral">
                        ${new Date(post.publishedAt).toLocaleDateString('ru-RU')}
                    </time>
                </div>
            </article>
        `).join('');
    }

    loadPosts();
</script>
</body>
</html>