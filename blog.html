<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–ª–æ–≥ - –ö–∞—Ä–∏–Ω–∞ –í–∞—Ä–≥–∞–Ω–æ–≤–∞ | –ü—Å–∏—Ö–æ–ª–æ–≥ –î–Ω–µ–ø—Ä</title>
    <meta name="description" content="–°—Ç–∞—Ç—å–∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∞ –ö–∞—Ä–∏–Ω—ã –í–∞—Ä–≥–∞–Ω–æ–≤–æ–π –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, —Å–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ª–∏—á–Ω–æ—Å—Ç–Ω–æ–º —Ä–æ—Å—Ç–µ">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="./dist/output.css" as="style">
    <link href="./dist/output.css" rel="stylesheet">
</head>
<body class="bg-neutral-light text-neutral-dark">
    <!-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ header –∏–∑ index.html –ø–æ–ª–Ω–æ—Å—Ç—å—é -->
    <header class="fixed-header">
        <div class="container flex justify-between items-center py-4">
            <div class="text-2xl font-bold text-white">Œ®</div>
            <div class="flex items-center">
                <a href="tel:380506191220" class="btn btn-secondary btn-icon flex">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                    &nbsp; 050 619 12 20
                </a>
                <button id="menu-toggle" class="p-2 ml-2 w-10 h-10 rounded-md bg-primary-dark hover:bg-primary-light text-white flex items-center justify-center">‚ò∞</button>
            </div>
        </div>
        <!-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ nav#mobile-menu –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑ index.html -->
            <nav id="mobile-menu">
                <div class="flex flex-col items-center py-6">
                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ -->
                    <div class="mb-6 w-full">
                        <div class="flex flex-col items-center space-y-6 py-4">
                            <a href="https://www.karina-psychologist.com/" class="text-white text-lg hover:text-neutral-light">–ì–ª–∞–≤–Ω–∞—è</a>
                            <a href="#about" class="text-white text-lg hover:text-neutral-light">–û–±–æ –º–Ω–µ</a>
                            <a href="#services" class="text-white text-lg hover:text-neutral-light">–£—Å–ª—É–≥–∏</a>
                            <a href="#reviews" class="text-white text-lg hover:text-neutral-light">–û—Ç–∑—ã–≤—ã</a>
                            <a href="blog.html" class="text-white text-lg hover:text-neutral-light">–ë–ª–æ–≥</a>
                            <a href="#contacts" class="text-white text-lg hover:text-neutral-light">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                        </div>
                    </div>
                    
                    <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
                    <div class="w-3/4 h-px bg-white bg-opacity-10 my-4"></div>
                    
                    <!-- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ -->
                    <div class="flex justify-center space-x-6 my-6">
                        <a href="https://t.me/+m6AvyfgL3H0zYWFi" target="_blank" rel="noopener noreferrer" class="text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
                        </a>
                        <a href="https://www.instagram.com/karina.varganova4/" target="_blank" rel="noopener noreferrer" class="text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
                        </a>
                        <a href="https://www.youtube.com/channel/UCWQYYpjSpWn2703KRj8tM0w" target="_blank" rel="noopener noreferrer" class="text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/><path d="m10 15 5-3-5-3z"/></svg>
                        </a>
                    </div>
                    
                    <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
                    <div class="w-3/4 h-px bg-white bg-opacity-10 my-4"></div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
                    <div class="flex flex-col items-center space-y-4 mt-4">
                        <a href="tel:380506191220" class="btn btn-secondary btn-icon w-full sm:w-64">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                            050 619 12 20
                        </a>
                        <a href="https://t.me/karinavarganova" target="_blank" rel="noopener noreferrer" class="btn btn-secondary btn-icon w-full sm:w-64">
                            <img src="images/telegram.svg" alt="Telegram" class="mr-2 w-5 h-5">
                            –ù–∞–ø–∏—Å–∞—Ç—å –≤ —Ç–µ–ª–µ–≥—Ä–∞–º
                        </a>
                    </div>
                </div>
            </nav>
    </header>

    <main class="pt-24 pb-16">
        <div class="container">
            <h1 class="heading-xl text-center mb-12 text-primary-dark">üìù –ë–ª–æ–≥ –ø—Å–∏—Ö–æ–ª–æ–≥–∞</h1>
            
            <div id="blog-posts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- –°—Ç–∞—Ç—å–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            
            <div id="loading" class="text-center py-8">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–µ–π...</p>
            </div>
        </div>
    </main>

<script>
    const sanityConfig = {
        projectId: 'i2ncx2dk',
        dataset: 'production',
        apiVersion: '2024-05-15'
    };

    async function loadPosts() {
        try {
            console.log('–ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ—Å—Ç—ã...');
            
            const query = `*[_type == "post"] | order(publishedAt desc) {
                title,
                "slug": slug.current,
                publishedAt,
                body,
                mainImage
            }`;
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º CDN –≤–µ—Ä—Å–∏—é API –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è CORS
            const url = `https://${sanityConfig.projectId}.apicdn.sanity.io/v${sanityConfig.apiVersion}/data/query/${sanityConfig.dataset}?query=${encodeURIComponent(query)}`;
            
            console.log('URL –∑–∞–ø—Ä–æ—Å–∞:', url);
            
            const response = await fetch(url);
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', data);
            
            renderPosts(data.result || []);
            
        } catch (error) {
            console.error('–ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:', error);
            document.getElementById('loading').innerHTML = `
                <div class="text-center py-8">
                    <p class="text-red-500">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</p>
                    <p class="text-sm text-neutral mt-2">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π</p>
                </div>
            `;
        }
    }

    function renderPosts(posts) {
        const container = document.getElementById('blog-posts');
        document.getElementById('loading').style.display = 'none';
        
        console.log('–†–µ–Ω–¥–µ—Ä–∏–º –ø–æ—Å—Ç—ã:', posts);
        
        if (!posts || posts.length === 0) {
            container.innerHTML = `
                <div class="col-span-full text-center py-12">
                    <p class="text-lg text-neutral">–°—Ç–∞—Ç—å–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                    <p class="text-sm text-neutral mt-2">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ç–∞—Ç—å–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –≤ Sanity Studio</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = posts.map(post => `
            <article class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                <div class="p-6">
                    <h2 class="text-xl font-bold mb-3 text-primary-dark">
                        ${post.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}
                    </h2>
                    ${post.publishedAt ? `
                        <time class="text-sm text-neutral">
                            ${new Date(post.publishedAt).toLocaleDateString('ru-RU')}
                        </time>
                    ` : ''}
                    ${post.slug ? `
                        <div class="mt-4">
                            <a href="post.html?slug=${post.slug}" class="text-primary hover:text-primary-dark">
                                –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí
                            </a>
                        </div>
                    ` : ''}
                </div>
            </article>
        `).join('');
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ—Å—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', loadPosts);
    </script>
</body>
</html>